# extends 'base.html'
# import 'macro/forms.html' as forms
# import 'macro/utils.html' as utils


# block content
  <div class="page-header">
    <h1>
      # if post_db.key
        {{utils.back_link('Back', 'post_view', post_id=post_db.key.id())}}
      # else
        {{utils.back_link('Back', 'welcome')}}
      # endif
      {{title}}
    </h1>
  </div>
  <form method="POST" action="." novalidate>
    {{form.csrf_token}}
    <div class="row">
      <div class="col-sm-6">
        {{forms.text_field(form.title, autofocus=True)}}
      </div>
      <div class="col-sm-6">
        {{forms.select_field(form.language_key)}}
        <p class="help-block">
          Missing a language here?
          <a href="https://github.com/welovecoding/vote4code/issues/new" target="_blank">
            Submit it.
          </a>
        </p>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-6">
        {{forms.textarea_field(form.variant_a, rows=16)}}
      </div>
      <div class="col-sm-6">
        {{forms.textarea_field(form.variant_b, rows=16)}}
      </div>
    </div>
    <button type="submit" class="btn btn-primary btn-block btn-loading" {{forms.data_loading_text()}}>
      # if post_db.key
        Update
      # else
        Create
      # endif
    </button>
  </form>
# endblock
